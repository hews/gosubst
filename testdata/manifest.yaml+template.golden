
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ${APP_NAME}-deployment
  labels:
    app: ${APP_NAME}
    app.kubernetes.io/instance: nginx-1234
    app.kubernetes.io/name: nginx-app
    app.kubernetes.io/version: 2.0.0-beta
spec:
  replicas: 1
  selector:
    matchLabels:
      app: ${APP_NAME}
  template:
    metadata:
      labels:
        app: ${APP_NAME}
    spec:
      containers:
        - name: nginx
          image: nginx:${NGINX_VERSION}
          ports:
          ports:
            - port: 443
              protocol: TCP
          volumeMounts:
            - name: nginx-config
              mountPath: /etc/nginx
  volumes:
    - name: nginx-config
      secret:
        ssl.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURuRENDQW9RQ0NRQ1haR0RtRyt6blhEQU5CZ2txaGtpRzl3MEJBUVVGQURDQmp6RUxNQWtHQTFVRUJoTUMKVlZNeEN6QUpCZ05WQkFnTUFrTkJNUlF3RWdZRFZRUUhEQXRNYjNNZ1FXNW5aV3hsY3pFUE1BMEdBMVVFQ2d3RwpUbTlpYjJSNU1RMHdDd1lEVlFRTERBUk9iMjVsTVJnd0ZnWURWUVFEREE5a2IyNXZkSFJ5ZFhOMGJXVXVhVzh4Ckl6QWhCZ2txaGtpRzl3MEJDUUVXRkdGa2JXbHVRR1J2Ym05MGNuVnpkRzFsTG1sdk1CNFhEVEl3TURJeE1ERTUKTlRReE1Wb1hEVEl4TURJd09URTVOVFF4TVZvd2dZOHhDekFKQmdOVkJBWVRBbFZUTVFzd0NRWURWUVFJREFKRApRVEVVTUJJR0ExVUVCd3dMVEc5eklFRnVaMlZzWlhNeER6QU5CZ05WQkFvTUJrNXZZbTlrZVRFTk1Bc0dBMVVFCkN3d0VUbTl1WlRFWU1CWUdBMVVFQXd3UFpHOXViM1IwY25WemRHMWxMbWx2TVNNd0lRWUpLb1pJaHZjTkFRa0IKRmhSaFpHMXBia0JrYjI1dmRISjFjM1J0WlM1cGJ6Q0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQwpBUW9DZ2dFQkFNZXBseUsvenZWVW93OVkrRDFVamhOQ1hwSEJTOFoxRFNCUUZHbnhrclFiYzRtRG5HVW1Ib3QxCmlMRjJiMlNhZWg4MkF0NGJZK1NyYW1iQnprUjJ6bGlVSHNYbVhoMXMwVnZyZ2F6M3ZIZ1lXR3VqNGRyd2dEaEIKUFh6MmtsS2h4Uk1wdkh3cExkWmZ3UVFubERWK0lIdGhIdzUzTHRFVGtIOGhXdWhWWjBTeks4ekZnOTdZM05mbgpiZGd2cm9YMWsvUi9yU05iVGVsTHNrVURlR2xZaTRFSlN1UVo5ZWZ1Q1JZMmVsSjd0Yy9FWG5mQzJ5Mk8wLzFkCk5la2pSdnlic0ppRitkb0NFY0lDNGpKR0lDSTNpeDRiOEJQTHdKSTF6RDVOc05vdnhkSm9yT09ENkRQMEsrUkEKdWU5ZEhDcFZ2REtxMURaVG43TVJkVnUrdTh5dkhxY0NBd0VBQVRBTkJna3Foa2lHOXcwQkFRVUZBQU9DQVFFQQpxNEJtOTNpYjJBNVRNMWNscTBOd2wxK3hZU0h4bXdCd0FGeE9lMlJiSlpRZGZPbzY2dnU1TlAyTlF5aUNJL083Ci9NWWVTbmNzV2x0YnJNMVNyaFAzQkdYc1VQU3hVSlhIa1lFTDdncXdlR3BVekxSVlNibjdyNDV0d2E2U1FHdHUKMjUybk5ld28wQWZTd2RUSHZqd3NFUlBURmdzVm9HbjgvTFZLR2kyZXJhYVdDaGYyMjZaSFZid3RhekU1WUNHVwpNbEtCWUxNS1ZISFBGTy9yQzdud0ttRDZaUUMrUzVFaWIvbHJrWEJQVlVkMjFhenVQVXpmdWp4ODg1ditXZktHCitnYlBzQXB4TVhFZmpDOUszT1R2S3hreFpxdDFWS1RiUTdFWStqdFZXME42SXJLTjBOQjBIR2N0aTk0MWtxNGMKYVlwdkpRcWwyZG5xZ2hFKzBxaFovdz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
        ssl.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk5VcTRUOXdSbDdGRDBzVkNhTVBXUGc5Vkk0VFFsNlJ3VXZHZFEwZ1VCWWl4ZG05a21ub2ZOZ0xlRzJQa3EycG0KN3g0R0Zocm8rSGE4SUE0UVQxODlwSlNvY1VUS2J4OEtTM1dYOEVFMHNsaWVSbjB3U05NWHdrdkMwMDhDZ1lCMApNSUlFdndJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLa3dnZ1NsQWdFQUFvSUJBUURIcVpjaXY4NzFWRzZ6Cko1UTFmaUI3WVI4T2RWVGxvSFBZQ1N0anRDY1lZME15QXBWY3p5N1JFNUIvSVZyb1ZXZEVzeXZNeFlQZTJOelgKQTNocFdJdUJDVXJrR2ZYbjdna1dObnBTZTdYUHhGNTN3dHN0anRQOVhUWHBJMGI4bTdDWWhmbmFBaEhDQXVJeQpSaUFpTjRzZUcvQVR5OENTTmN3K1RiRGFMOFhTYUt6amcrZ3o5Q3ZrUUxudlhSd3FWYnd5cXRRMlU1K3pFWFZiCktnZXpObXNqa0R3SUtaZ2p1a3dGY0RCVGhpQjE3dmw0QmpUeFh0c3NrS0VDZ1lFQThtUGtGeGt6L255bmdmdjEKdnJ2TXJ4Nm5BZ01CQUFFQ2dnRWRRODR4MlQvOUlQbTkrRnVEL3NNSDUyM1lMNjZGOVpQMGY2MGpXMDNwUzdKRgpaZHBkRkRneHAvUGRRVk5PMHZNc09UMmtsQ1NJU0tFT3JzZ2tmSHBiWnVtRTl6dG5rYy96UWtmby91ejlIMkVHCjcyYTZnSmtWYUlUZmQ0NDE1eGgwQ1dUNDRBcVRTWmhLN1djWEFlOUhZSUhDVkNETkJLcWRjN3o5ZjFlcElYV0YKczhBQ05aMTMzZVdFaGt3ZEZmK0tGS3BHaC9TMEkycUZZQ0VIbkZYQ200VmxIWlJwRjVsNGRiTkZiNjRHczlySApmSmtQbDg1QmJqM1lwejRhL3AxYXh6ZloyZWxyWWJNWWNOY3BEN0FmRHFOYVI1andiMzU1eklWdWYxVGo3aUozClBNdjBjd2xEeDdNNVc3cFJMdlhtYU8yM29wanpxbmFVczJjQVhZcHI4eThBSzNXV2MyeElwZTEvaXBYN2JoWHUKUDVPSUhqekVobEVDZ1lFQXllMm54Z3BzQTFWTG93RUpWcjdkMkZhZjFrN3YwWVcxTVc5YVZBN3FoVGE1bjB1TgpncGJyd09XQWJsZE1pOEhpeEFxb1ljNXEvM2NDZ1lFQTB0K0lRcFlRb2FOMEF1M1hmRk9VUC9ZSVM0RDJ0UmQxClNVTlFMQlh2a2laamFBWXhPcDE4VzFWM1NUVHA1Rm41emM1RjZQL2VPenJpdGZ6UWlseEpjWHI2NkFvVmV4S2UKYXZ6bERlc0c5ZDRwQkFKdzhuZEtJUzFkNEtXTzQyWVgxTGdvazVwSnZmY1JsV21TNVR4cHFnN2dLU2Rhcm1VZQpWcHE2bk95Vm9JcGlSak92M0x6WmtLUnByRmJIRWlUMjZiemMvUjVmNVZvMUZkdUFSN2M0MXA3YUs5QUF6NDhlClkyRUEyeCtpNlRiKzN0NlZ2RGFBRjVqeGJZYm5VVEFid1RvSVlXWGxhVHNUUU5qK2F4RmJiOEpjdndLcEZ4Q00KVEMxVHZzTElodGpzK2VuWXhvUXJqNG5aR3VkS2ZjRldZWFRwZi9XRklRS0JnUUNROEhUNUgrOC93VzlZZGNSTwpIZWZ3S1AwNUl6V0RtYkR6TDhXT3JmT3ZMOGQwKzJmaytmdmdWeGw1cHZQYVd1N0NxTUYvcDFWaEZtZ1JieWxuCmV5eE1KcHRDNnhUanE3ZDJrWG56dHdmcE5iUEJQT3hxWTY0SlRUZFZtdVpudGFyay9LY0Q2TGJEckRCenpTQUgKRW9yRWJDblhiMHRxV3U1QitsTjViUDhvRG92bkVsSkl2NUdIR21mQWVWd2M1RWRzNVlsQjcxekprbklpaHFDVgpOZDRWaVJaRTJYT1p4NXluTy8vNEoyUktNTDZxK1JhNGE2SmM2SjE4cnYvaXBBbUJ1RFJQTHNnTjRsT0trTmYxCkRpL0hiVS93T3dPMUhLK25CS0ZJTjFqSWI3TGV4Z1AxeG5nK1JSd2UxTE5qaGVtckJsRTd6eU85ckY2U1ZPeFEKWnhnSmRxbGthTElBYlhKdGdFelNpTFpNckE9PQotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg==
        nginx.conf: dXNlciBuZ2lueDsKCndvcmtlcl9wcm9jZXNzZXMgYXV0bzsKCmV2ZW50cyB7CiAgd29ya2VyX2Nvbm5lY3Rpb25zIDEwMjQ7Cn0KCnBpZCAgICAgICAgL3Zhci9ydW4vbmdpbngucGlkOwoKaHR0cCB7CiAgICBzZXJ2ZXIgewogICAgICAgIGxpc3RlbiBbOjpdOjQ0MyBzc2w7CiAgICAgICAgbGlzdGVuIDQ0MyBzc2w7CgogICAgICAgIHNlcnZlcl9uYW1lIGxvY2FsaG9zdDsKCiAgICAgICAgc3NsX3Byb3RvY29scyAgICAgICAgICAgICAgVExTdjEgVExTdjEuMSBUTFN2MS4yOwogICAgICAgIHNzbF9jaXBoZXJzICAgICAgICAgICAgICAgIEVDREhFLVJTQS1BRVMxMjgtR0NNLVNIQTI1NjpFQ0RIRS1FQ0RTQS1BRVMxMjgtR0NNLVNIQTI1NjpFQ0RIRS1SU0EtQUVTMjU2LUdDTS1TSEEzODQ6RUNESEUtRUNEU0EtQUVTMjU2LUdDTS1TSEEzODQ6REhFLVJTQS1BRVMxMjgtR0NNLVNIQTI1NjpESEUtRFNTLUFFUzEyOC1HQ00tU0hBMjU2OmtFREgrQUVTR0NNOkVDREhFLVJTQS1BRVMxMjgtU0hBMjU2OkVDREhFLUVDRFNBLUFFUzEyOC1TSEEyNTY6RUNESEUtUlNBLUFFUzEyOC1TSEE6RUNESEUtRUNEU0EtQUVTMTI4LVNIQTpFQ0RIRS1SU0EtQUVTMjU2LVNIQTM4NDpFQ0RIRS1FQ0RTQS1BRVMyNTYtU0hBMzg0OkVDREhFLVJTQS1BRVMyNTYtU0hBOkVDREhFLUVDRFNBLUFFUzI1Ni1TSEE6REhFLVJTQS1BRVMxMjgtU0hBMjU2OkRIRS1SU0EtQUVTMTI4LVNIQTpESEUtRFNTLUFFUzEyOC1TSEEyNTY6REhFLVJTQS1BRVMyNTYtU0hBMjU2OkRIRS1EU1MtQUVTMjU2LVNIQTpESEUtUlNBLUFFUzI1Ni1TSEE6QUVTMTI4LUdDTS1TSEEyNTY6QUVTMjU2LUdDTS1TSEEzODQ6RUNESEUtUlNBLVJDNC1TSEE6RUNESEUtRUNEU0EtUkM0LVNIQTpBRVMxMjg6QUVTMjU2OlJDNC1TSEE6SElHSDohYU5VTEw6IWVOVUxMOiFFWFBPUlQ6IURFUzohM0RFUzohTUQ1OiFQU0s7CiAgICAgICAgc3NsX3ByZWZlcl9zZXJ2ZXJfY2lwaGVycyAgb247CiAgICAgICAgc3NsX3Nlc3Npb25fY2FjaGUgICAgc2hhcmVkOlNTTDoxMG07CiAgICAgICAgc3NsX3Nlc3Npb25fdGltZW91dCAgMjRoOwoKICAgICAgICBrZWVwYWxpdmVfdGltZW91dCAzMDA7CgogICAgICAgIGFkZF9oZWFkZXIgU3RyaWN0LVRyYW5zcG9ydC1TZWN1cml0eSAnbWF4LWFnZT0zMTUzNjAwMDsgaW5jbHVkZVN1YkRvbWFpbnMnOwoKICAgICAgICBzc2xfY2VydGlmaWNhdGUgICAgICAvZXRjL25naW54L3NzbC5jcnQ7CiAgICAgICAgc3NsX2NlcnRpZmljYXRlX2tleSAgL2V0Yy9uZ2lueC9zc2wua2V5OwoKICAgICAgICBsb2NhdGlvbiAvIHsKICAgICAgICAgICAgcHJveHlfcGFzcyBodHRwOi8vbG9jYWxob3N0OjgwOwoKICAgICAgICAgICAgcHJveHlfc2V0X2hlYWRlciBDb25uZWN0aW9uICIiOwogICAgICAgICAgICBwcm94eV9zZXRfaGVhZGVyIEhvc3QgJGhvc3Q7CiAgICAgICAgICAgIHByb3h5X3NldF9oZWFkZXIgWC1SZWFsLUlQICRyZW1vdGVfYWRkcjsKICAgICAgICAgICAgcHJveHlfc2V0X2hlYWRlciBYLUZvcndhcmRlZC1Gb3IgJHJlbW90ZV9hZGRyOwogICAgICAgIH0KICAgIH0KfQo=
